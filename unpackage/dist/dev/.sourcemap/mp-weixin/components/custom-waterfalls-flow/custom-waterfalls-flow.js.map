{"version":3,"sources":[null,"webpack:///C:/Users/dell/Desktop/uniAPP/components/custom-waterfalls-flow/custom-waterfalls-flow.vue?6562","webpack:///C:/Users/dell/Desktop/uniAPP/components/custom-waterfalls-flow/custom-waterfalls-flow.vue?2e0b","webpack:///C:/Users/dell/Desktop/uniAPP/components/custom-waterfalls-flow/custom-waterfalls-flow.vue?14bb","uni-app:///components/custom-waterfalls-flow/custom-waterfalls-flow.vue","webpack:///C:/Users/dell/Desktop/uniAPP/components/custom-waterfalls-flow/custom-waterfalls-flow.vue?5300","webpack:///C:/Users/dell/Desktop/uniAPP/components/custom-waterfalls-flow/custom-waterfalls-flow.vue?a1a7"],"names":[],"mappings":"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","file":"components/custom-waterfalls-flow/custom-waterfalls-flow.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./custom-waterfalls-flow.vue?vue&type=template&id=de199ef8&scoped=true&\"\nvar renderjs\nimport script from \"./custom-waterfalls-flow.vue?vue&type=script&lang=js&\"\nexport * from \"./custom-waterfalls-flow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./custom-waterfalls-flow.vue?vue&type=style&index=0&id=de199ef8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de199ef8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/custom-waterfalls-flow/custom-waterfalls-flow.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./custom-waterfalls-flow.vue?vue&type=template&id=de199ef8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.data.column, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var s0 = _vm.__get_style([_vm.s1])\n\n    var l0 = _vm.columnValue(index)\n    return {\n      $orig: $orig,\n      s0: s0,\n      l0: l0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, item2) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item2 = _temp2.item2\n\n      var _temp, _temp2\n\n      $event.stopPropagation()\n      return _vm.wapperClick(item2)\n    }\n\n    _vm.e1 = function($event, item2, index) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        item2 = _temp4.item2,\n        index = _temp4.index\n\n      var _temp3, _temp4\n\n      return _vm.imgLoad(item2, index + 1)\n    }\n\n    _vm.e2 = function($event, item2, index) {\n      var _temp5 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp6 = _temp5.eventParams || _temp5[\"event-params\"],\n        item2 = _temp6.item2,\n        index = _temp6.index\n\n      var _temp5, _temp6\n\n      return _vm.imgError(item2, index + 1)\n    }\n\n    _vm.e3 = function($event, item2) {\n      var _temp7 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp8 = _temp7.eventParams || _temp7[\"event-params\"],\n        item2 = _temp8.item2\n\n      var _temp7, _temp8\n\n      $event.stopPropagation()\n      return _vm.imageClick(item2)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./custom-waterfalls-flow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./custom-waterfalls-flow.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"waterfalls-flow\">\r\n    <view v-for=\"(item,index) in data.column\" :key=\"index\" class=\"waterfalls-flow-column\"\r\n      :id=\"`waterfalls_flow_column_${index+1}`\" :msg=\"msg\" :style=\"{'width':w,'margin-left':index==0?0:m}\">\r\n      <view :class=\"['column-value',{'column-value-show':item2.o}]\" v-for=\"(item2,index2) in columnValue(index)\"\r\n        :key=\"index2\" :style=\"[s1]\" @click.stop=\"wapperClick(item2)\">\r\n        <view class=\"inner\" v-if=\"data.seat==1\">\r\n          <!-- #ifdef MP-WEIXIN -->\r\n          <!-- #ifdef VUE2 -->\r\n          <slot name=\"slot{{item2.index}}\"></slot>\r\n          <!-- #endif -->\r\n          <!-- #ifdef VUE3 -->\r\n          <slot :name=\"`slot${item2.index}`\"></slot>\r\n          <!-- #endif -->\r\n          <!-- #endif -->\r\n          <!-- #ifndef MP-WEIXIN -->\r\n          <slot v-bind=\"item2\"></slot>\r\n          <!-- #endif -->\r\n        </view>\r\n        <image\r\n          :class=\"['img',{'img-hide':item2[hideImageKey]==true||item2[hideImageKey]==1},{'img-error':!item2[data.imageKey]}]\"\r\n          :src=\"item2[data.imageKey]\" mode=\"widthFix\" @load=\"imgLoad(item2,index+1)\" @error=\"imgError(item2,index+1)\"\r\n          @click.stop=\"imageClick(item2)\"></image>\r\n        <view class=\"inner\" v-if=\"data.seat==2\">\r\n          <!-- #ifdef MP-WEIXIN -->\r\n          <!-- #ifdef VUE2 -->\r\n          <slot name=\"slot{{item2.index}}\"></slot>\r\n          <!-- #endif -->\r\n          <!-- #ifdef VUE3 -->\r\n          <slot :name=\"`slot${item2.index}`\"></slot>\r\n          <!-- #endif -->\r\n          <!-- #endif -->\r\n          <!-- #ifndef MP-WEIXIN -->\r\n          <slot v-bind=\"item2\"></slot>\r\n          <!-- #endif -->\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script>\r\n  export default {\r\n    props: {\r\n      value: Array,\r\n      column: { // 列的数量 \r\n        type: [String, Number],\r\n        default: 2\r\n      },\r\n      maxColumn: { // 最大列数 \r\n        type: [String, Number],\r\n        default: 5\r\n      },\r\n      columnSpace: { // 列之间的间距 百分比\r\n        type: [String, Number],\r\n        default: 2\r\n      },\r\n      imageKey: { // 图片key\r\n        type: [String],\r\n        default: 'image'\r\n      },\r\n      hideImageKey: { // 隐藏图片key\r\n        type: [String],\r\n        default: 'hide'\r\n      },\r\n      seat: { // 文本的位置，1图片之上 2图片之下\r\n        type: [String, Number],\r\n        default: 2\r\n      },\r\n      listStyle: { // 单个展示项的样式：eg:{'background':'red'}\r\n        type: Object\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        data: {\r\n          list: this.value ? this.value : [],\r\n          column: this.column < 2 ? 2 : this.column,\r\n          columnSpace: this.columnSpace <= 5 ? this.columnSpace : 5,\r\n          imageKey: this.imageKey,\r\n          seat: this.seat\r\n        },\r\n        msg: 0,\r\n        listInitStyle: {\r\n          // 'border-radius': '15rpx',\r\n          'margin-bottom': '20rpx',\r\n          'background-color': '#fff'\r\n        },\r\n        adds: [], //预置数据\r\n        isLoaded: true,\r\n        curIndex: 0,\r\n        isRefresh: true,\r\n        flag: false,\r\n        refreshDatas: []\r\n      }\r\n    },\r\n    computed: {\r\n      // 计算列宽\r\n      w() {\r\n        const column_rate = `${100 / this.data.column - (+this.data.columnSpace)}%`;\r\n        return column_rate;\r\n      },\r\n      // 计算margin\r\n      m() {\r\n        const column_margin =\r\n          `${(100-(100 / this.data.column - (+this.data.columnSpace)).toFixed(5)*this.data.column)/(this.data.column-1)}%`;\r\n        return column_margin;\r\n      },\r\n      // list样式\r\n      s1() {\r\n        return {\r\n          ...this.listInitStyle,\r\n          ...this.listStyle\r\n        };\r\n      }\r\n    },\r\n    created() {\r\n      // 初始化\r\n      this.refresh();\r\n    },\r\n    methods: {\r\n      // 预加载图片\r\n      loadImages(idx = 0) {\r\n        let count = 0;\r\n        const newList = this.data.list.filter((item, index) => index >= idx);\r\n        for (let i = 0; i < newList.length; i++) {\r\n          // #ifndef APP-PLUS\r\n          uni.getImageInfo({\r\n            src: `${newList[i][this.imageKey]}.jpg`,\r\n            complete: res => {\r\n              count++;\r\n              if (count == newList.length) this.initValue(idx);\r\n            }\r\n          })\r\n          // #endif\r\n          // #ifdef APP-PLUS\r\n          plus.io.getImageInfo({\r\n            src: `${newList[i][this.imageKey]}.jpg`,\r\n            complete: res => {\r\n              count++;\r\n              if (count == newList.length) this.initValue(idx);\r\n            }\r\n          })\r\n          // #endif\r\n        }\r\n      },\r\n      // 刷新\r\n      refresh() {\r\n        if (!this.isLoaded) {\r\n          this.refreshDatas = this.value;\r\n          return false;\r\n        };\r\n        setTimeout(() => {\r\n          this.refreshDatas = [];\r\n          this.isRefresh = true;\r\n          this.adds = [];\r\n          this.data.list = this.value ? this.value : [];\r\n          this.data.column = this.column < 2 ? 2 : this.column >= this.maxColumn ? this.maxColumn : this.column;\r\n          this.data.columnSpace = this.columnSpace <= 5 ? this.columnSpace : 5;\r\n          this.data.imageKey = this.imageKey;\r\n          this.data.seat = this.seat;\r\n          this.curIndex = 0;\r\n          // 每列的数据初始化\r\n          for (let i = 1; i <= this.data.column; i++) {\r\n            this.data[`column_${i}_values`] = [];\r\n            this.msg++;\r\n          }\r\n          this.$nextTick(() => {\r\n            this.initValue(this.curIndex, 'refresh==>');\r\n          })\r\n        }, 1)\r\n      },\r\n      columnValue(index) {\r\n        return this.data[`column_${index+1}_values`];\r\n      },\r\n      change(newValue) {\r\n        for (let i = 0; i < this.data.list.length; i++) {\r\n          const cv = this.data[`column_${this.data.list[i].column}_values`];\r\n          for (let j = 0; j < cv.length; j++) {\r\n            if (newValue[i] && i === cv[j].index) {\r\n              this.data[`column_${this.data.list[i].column}_values`][j] = Object.assign(cv[j], newValue[i]);\r\n              this.msg++;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      getMin(a, s) {\r\n        let m = a[0][s];\r\n        let mo = a[0];\r\n        for (var i = a.length - 1; i >= 0; i--) {\r\n          if (a[i][s] < m) {\r\n            m = a[i][s];\r\n          }\r\n        }\r\n        mo = a.filter(i => i[s] == m);\r\n        return mo[0];\r\n      },\r\n      // 计算每列的高度\r\n      getMinColumnHeight() {\r\n        return new Promise(resolve => {\r\n          const heightArr = [];\r\n          for (let i = 1; i <= this.data.column; i++) {\r\n            const query = uni.createSelectorQuery().in(this);\r\n            query.select(`#waterfalls_flow_column_${i}`).boundingClientRect(data => {\r\n              heightArr.push({\r\n                column: i,\r\n                height: data.height\r\n              });\r\n            }).exec(() => {\r\n              if (this.data.column <= heightArr.length) {\r\n                resolve(this.getMin(heightArr, 'height'));\r\n              }\r\n            });\r\n          }\r\n        })\r\n      },\r\n      async initValue(i, from) {\r\n        this.isLoaded = false;\r\n        if (i >= this.data.list.length || this.refreshDatas.length) {\r\n          this.msg++;\r\n          this.loaded();\r\n          return false;\r\n        }\r\n        const minHeightRes = await this.getMinColumnHeight();\r\n        const c = this.data[`column_${minHeightRes.column}_values`];\r\n        this.data.list[i].column = minHeightRes.column;\r\n        c.push({\r\n          ...this.data.list[i],\r\n          cIndex: c.length,\r\n          index: i,\r\n          o: 0\r\n        });\r\n        this.msg++;\r\n      },\r\n      // 图片加载完成\r\n      imgLoad(item, c) {\r\n        const i = item.index;\r\n        item.o = 1;\r\n        this.$set(this.data[`column_${c}_values`], item.cIndex, JSON.parse(JSON.stringify(item)));\r\n        this.initValue(i + 1);\r\n      },\r\n      // 图片加载失败\r\n      imgError(item, c) {\r\n        const i = item.index;\r\n        item.o = 1;\r\n        item[this.data.imageKey] = null;\r\n        this.$set(this.data[`column_${c}_values`], item.cIndex, JSON.parse(JSON.stringify(item)));\r\n        this.initValue(i + 1);\r\n      },\r\n      // 渲染结束\r\n      loaded() {\r\n        if (this.refreshDatas.length) {\r\n          this.isLoaded = true;\r\n          this.refresh();\r\n          return false;\r\n        }\r\n        this.curIndex = this.data.list.length;\r\n        if (this.adds.length) {\r\n          this.data.list = this.adds[0];\r\n          this.adds.splice(0, 1);\r\n          this.initValue(this.curIndex);\r\n        } else {\r\n          if (this.data.list.length) this.$emit('loaded');\r\n          this.isLoaded = true;\r\n          this.isRefresh = false;\r\n        }\r\n      },\r\n      // 单项点击事件\r\n      wapperClick(item) {\r\n        this.$emit('wapperClick', item);\r\n      },\r\n      // 图片点击事件\r\n      imageClick(item) {\r\n        this.$emit('imageClick', item);\r\n      }\r\n    },\r\n    watch: {\r\n      value: {\r\n        deep: true,\r\n        handler(newValue, oldValue) {\r\n          setTimeout(() => {\r\n            this.$nextTick(() => {\r\n              if (this.isRefresh) return false;\r\n              if (this.isLoaded) {\r\n                // if (newValue.length <= this.curIndex) return this.refresh();\r\n                if (newValue.length <= this.curIndex) return this.change(newValue);\r\n                this.data.list = newValue;\r\n                this.$nextTick(() => {\r\n                  this.initValue(this.curIndex, 'watch==>');\r\n                })\r\n              } else {\r\n                this.adds.push(newValue);\r\n              }\r\n            })\r\n          }, 10)\r\n        }\r\n      },\r\n      column(newValue) {\r\n        this.refresh();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .waterfalls-flow {\r\n    overflow: hidden;\r\n\r\n    &-column {\r\n      float: left;\r\n    }\r\n  }\r\n\r\n  .column-value {\r\n    width: 100%;\r\n    font-size: 0;\r\n    overflow: hidden;\r\n    transition: opacity .4s;\r\n    opacity: 0;\r\n\r\n    &-show {\r\n      opacity: 1;\r\n    }\r\n\r\n    .inner {\r\n      font-size: 30rpx;\r\n        padding: 10rpx;\r\n    }\r\n\r\n    .img {\r\n      width: 100%;\r\n\r\n      &-hide {\r\n        display: none;\r\n      }\r\n\r\n      &-error {\r\n        background: #f2f2f2 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAiAQMAAAAatXkPAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAAIZJREFUCNdlzjEKwkAUBNAfEGyCuYBkLyLuxRYW2SKlV1JSeA2tUiZg4YrLjv9PGsHqNTPMSAQuyAJgRDHSyvBPwtZoSJXakeJI9iuRLGDygdl6V0yKDtyMAeMPZySj8yfD+UapvRPj2JOwkyAooSV5IwdDjPdCPspe8LyTl9IKJvDETKKRv6vnlUasgg0fAAAAAElFTkSuQmCC) no-repeat center center;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  .waterfalls-flow {\r\n    // background-color: #f0f0f0;\r\n    background-color: #fff;\r\n    padding: 20rpx;\r\n  }\r\n</style>\n","import mod from \"-!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./custom-waterfalls-flow.vue?vue&type=style&index=0&id=de199ef8&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./custom-waterfalls-flow.vue?vue&type=style&index=0&id=de199ef8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1670054464905\n      var cssReload = require(\"E:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}